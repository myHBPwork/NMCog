// Copyright (c) 2009-2017 ion interactive, inc. All rights reserved.
function _lbapi_XhrFactory(){return new XMLHttpRequest}function _lbapi_urlencode(t){var e="";return null!=t&&""!=t&&(e=escape(t),e=e.replace("+","%2B"),e=e.replace("/","%2F")),e}function _lbapi_idstg(){return"?"+_lbapi_3id_param+"="+_lbapi_lb3id+"&"+_lbapi_rnd_param+"="+parseInt(31777*Math.random())}function liveballConvert(t){if(_lbapi_asynchronous&&"function"!=typeof t&&window.ixp&&window.ixp.runtime&&"function"==typeof window.ixp.runtime.convert)return void window.ixp.runtime.convert();var e=new XMLHttpRequest;e.open("GET","/Outside/Convert.ashx"+_lbapi_idstg(),_lbapi_asynchronous),"function"==typeof t&&(e.onreadystatechange=function(){this.readyState==XMLHttpRequest.DONE&&t()}),e.send(null)}function liveballTag(t,e){if(null!=t&&""!==t){if(_lbapi_asynchronous&&"function"!=typeof e&&window.ixp&&window.ixp.runtime&&"function"==typeof window.ixp.runtime.tag)return void window.ixp.runtime.tag(t);var n=new XMLHttpRequest;n.open("GET","/Outside/Tag.ashx"+_lbapi_idstg()+"&"+_lbapi_tag_param+"="+_lbapi_urlencode(t),_lbapi_asynchronous),"function"==typeof e&&(n.onreadystatechange=function(){this.readyState==XMLHttpRequest.DONE&&e()}),n.send(null)}}function liveballData(t,e,n){if(null!=t&&""!==t&&null!=e&&""!==e){var i=new XMLHttpRequest;i.open("GET","/Outside/Data.ashx"+_lbapi_idstg()+"&"+t+"="+_lbapi_urlencode(e),_lbapi_asynchronous),"function"==typeof n&&(i.onreadystatechange=function(){this.readyState==XMLHttpRequest.DONE&&n()}),i.send(null)}}function liveballDataPost(t,e,n){if(null!=t&&""!==t&&null!=e&&""!==e){var i=new XMLHttpRequest;i.open("POST","/Outside/Data.ashx",_lbapi_asynchronous),"function"==typeof n&&(i.onreadystatechange=function(){this.readyState==XMLHttpRequest.DONE&&n()});var r=_lbapi_idstg()+"&"+t+"="+_lbapi_urlencode(e);i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.setRequestHeader("Content-length",r.length),i.setRequestHeader("Connection","close"),i.send(r)}}function liveballScriptlet(t,e,n){if(null!=t){var i=new XMLHttpRequest;return i.open("GET","/Outside/Scriptlet.ashx"+_lbapi_idstg()+"&scrid="+t+"&rct="+e+"&rdata="+_lbapi_urlencode(n),!1),i.send(null),4==i.readyState&&200==i.status?i.responseText:"{RequestState:"+i.readystate+",HttpStatus:"+i.status+"}"}}!function(t,e,n){/**
     * @license
     * Lodash (Custom Build) <https://lodash.com/>
     * Build: `lodash include="assign,bind,create,debounce,defaults,defer,delay,keys,partial,throttle,extend,identity,isArguments,isArray,isFunction,isObject,isString,noop,now" iife="var _ = (function() { %output% return lodash; }.call(this));" --output lodash-1571398373585.build.js --development`
     * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
     * Released under MIT license <https://lodash.com/license>
     * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
     * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
     */
var i=function(){function t(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function e(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}function n(t,e){var n=null==t?0:t.length;return!!n&&r(t,e,0)>-1}function i(t,e,n,i){for(var r=t.length,a=n+(i?1:-1);i?a--:++a<r;)if(e(t[a],a,t))return a;return-1}function r(t,e,n){return e===e?p(t,e,n):i(t,a,n)}function a(t){return t!==t}function o(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function s(t){return function(e){return t(e)}}function u(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}function c(t,e){return null==t?It:t[e]}function l(t,e){return function(n){return t(e(n))}}function d(t,e){for(var n=-1,i=t.length,r=0,a=[];++n<i;){var o=t[n];o!==e&&o!==At||(t[n]=At,a[r++]=n)}return a}function p(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function f(){}function h(){}function v(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Gt,this.__views__=[]}function m(t,e){var n=In(t),i=!n&&Sn(t),r=!n&&!i&&kn(t),a=!n&&!i&&!r&&Tn(t),s=n||i||r||a,u=s?o(t.length,String):[],c=u.length;for(var l in t)!e&&!Xe.call(t,l)||s&&("length"==l||r&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||G(l,c))||u.push(l);return u}function g(t,e,n){var i=t[e];Xe.call(t,e)&&ut(i,n)&&(n!==It||e in t)||b(t,e,n)}function y(t,e){return t&&L(e,wt(e),t)}function b(t,e,n){"__proto__"==e&&an?an(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function w(t,e,n){if("function"!=typeof t)throw new TypeError(Tt);return setTimeout(function(){t.apply(It,n)},e)}function x(t){return null==t?t===It?de:re:rn&&rn in Object(t)?B(t):Z(t)}function _(t){return ft(t)&&x(t)==Qt}function C(t){if(!pt(t)||X(t))return!1;var e=lt(t)?Ke:Le;return e.test(rt(t))}function E(t){return ft(t)&&dt(t.length)&&!!Ve[x(t)]}function S(t){if(!J(t))return sn(t);var e=[];for(var n in Object(t))Xe.call(t,n)&&"constructor"!=n&&e.push(n);return e}function I(t){if(!pt(t))return K(t);var e=J(t),n=[];for(var i in t)("constructor"!=i||!e&&Xe.call(t,i))&&n.push(i);return n}function k(t,e){return bn(tt(t,e,Ct),t+"")}function T(t,e,n,i){for(var r=-1,a=t.length,o=n.length,s=-1,u=e.length,c=un(a-o,0),l=Array(u+c),d=!i;++s<u;)l[s]=e[s];for(;++r<o;)(d||r<a)&&(l[n[r]]=t[r]);for(;c--;)l[s++]=t[r++];return l}function A(t,e,n,i){for(var r=-1,a=t.length,o=-1,s=n.length,u=-1,c=e.length,l=un(a-s,0),d=Array(l+c),p=!i;++r<l;)d[r]=t[r];for(var f=r;++u<c;)d[f+u]=e[u];for(;++o<s;)(p||r<a)&&(d[f+n[o]]=t[r++]);return d}function j(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}function L(t,e,n,i){var r=!n;n||(n={});for(var a=-1,o=e.length;++a<o;){var s=e[a],u=i?i(n[s],t[s],s,n,t):It;u===It&&(u=t[s]),r?b(n,s,u):g(n,s,u)}return n}function P(t){return k(function(e,n){var i=-1,r=n.length,a=r>1?n[r-1]:It,o=r>2?n[2]:It;for(a=t.length>3&&"function"==typeof a?(r--,a):It,o&&W(n[0],n[1],o)&&(a=r<3?It:a,r=1),e=Object(e);++i<r;){var s=n[i];s&&t(e,s,i,a)}return e})}function D(t,e,n){function i(){var e=this&&this!==Fe&&this instanceof i?a:t;return e.apply(r?n:this,arguments)}var r=e&jt,a=V(t);return i}function V(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=hn(t.prototype),i=t.apply(n,e);return pt(i)?i:n}}function O(e,n,i){function r(){for(var o=arguments.length,s=Array(o),u=o,c=N(r);u--;)s[u]=arguments[u];var l=o<3&&s[0]!==c&&s[o-1]!==c?[]:d(s,c);if(o-=l.length,o<i)return F(e,n,q,r.placeholder,It,s,l,It,It,i-o);var p=this&&this!==Fe&&this instanceof r?a:e;return t(p,this,s)}var a=V(e);return r}function q(t,e,n,i,r,a,o,s,c,l){function p(){for(var b=arguments.length,w=Array(b),x=b;x--;)w[x]=arguments[x];if(m)var _=N(p),C=u(w,_);if(i&&(w=T(w,i,r,m)),a&&(w=A(w,a,o,m)),b-=C,m&&b<l){var E=d(w,_);return F(t,e,q,p.placeholder,n,w,E,s,c,l-b)}var S=h?n:this,I=v?S[t]:t;return b=w.length,s?w=et(w,s):g&&b>1&&w.reverse(),f&&c<b&&(w.length=c),this&&this!==Fe&&this instanceof p&&(I=y||V(I)),I.apply(S,w)}var f=e&Mt,h=e&jt,v=e&Lt,m=e&(Dt|Vt),g=e&$t,y=v?It:V(t);return p}function M(e,n,i,r){function a(){for(var n=-1,u=arguments.length,c=-1,l=r.length,d=Array(l+u),p=this&&this!==Fe&&this instanceof a?s:e;++c<l;)d[c]=r[c];for(;u--;)d[c++]=arguments[++n];return t(p,o?i:this,d)}var o=n&jt,s=V(e);return a}function F(t,e,n,i,r,a,o,s,u,c){var l=e&Dt,d=l?o:It,p=l?It:o,f=l?a:It,h=l?It:a;e|=l?Ot:qt,e&=~(l?qt:Ot),e&Pt||(e&=~(jt|Lt));var v=[t,e,r,f,d,h,p,s,u,c],m=n.apply(It,v);return Q(t)&&yn(m,v),m.placeholder=i,nt(m,t,e)}function $(t,e,n,i,r,a,o,s){var u=e&Lt;if(!u&&"function"!=typeof t)throw new TypeError(Tt);var c=i?i.length:0;if(c||(e&=~(Ot|qt),i=r=It),o=o===It?o:un(gt(o),0),s=s===It?s:gt(s),c-=r?r.length:0,e&qt){var l=i,d=r;i=r=It}var p=u?It:gn(t),f=[t,e,n,i,r,l,d,a,o,s];if(p&&Y(f,p),t=f[0],e=f[1],n=f[2],i=f[3],r=f[4],s=f[9]=f[9]===It?u?0:t.length:un(f[9]-c,0),!s&&e&(Dt|Vt)&&(e&=~(Dt|Vt)),e&&e!=jt)h=e==Dt||e==Vt?O(t,e,s):e!=Ot&&e!=(jt|Ot)||r.length?q.apply(It,f):M(t,e,n,i);else var h=D(t,e,n);var v=p?vn:yn;return nt(v(h,f),t,e)}function R(t){for(var e=t.name+"",n=fn[e],i=Xe.call(fn,e)?n.length:0;i--;){var r=n[i],a=r.func;if(null==a||a==t)return r.name}return e}function N(t){var e=Xe.call(f,"placeholder")?f:t;return e.placeholder}function z(t,e){var n=c(t,e);return C(n)?n:It}function B(t){var e=Xe.call(t,rn),n=t[rn];try{t[rn]=It;var i=!0}catch(r){}var a=Ye.call(t);return i&&(e?t[rn]=n:delete t[rn]),a}function H(t){var e=t.match(ke);return e?e[1].split(Te):[]}function U(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(Ie,"{\n/* [wrapped with "+e+"] */\n")}function G(t,e){var n=typeof t;return e=null==e?Bt:e,!!e&&("number"==n||"symbol"!=n&&De.test(t))&&t>-1&&t%1==0&&t<e}function W(t,e,n){if(!pt(n))return!1;var i=typeof e;return!!("number"==i?ct(n)&&G(e,n.length):"string"==i&&e in n)&&ut(n[e],t)}function Q(t){var e=R(t),n=f[e];if("function"!=typeof n||!(e in v.prototype))return!1;if(t===n)return!0;var i=gn(n);return!!i&&t===i[0]}function X(t){return!!Je&&Je in t}function J(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||Ge;return t===n}function Y(t,e){var n=t[1],i=e[1],r=n|i,a=r<(jt|Lt|Mt),o=i==Mt&&n==Dt||i==Mt&&n==Ft&&t[7].length<=e[8]||i==(Mt|Ft)&&e[7].length<=e[8]&&n==Dt;if(!a&&!o)return t;i&jt&&(t[2]=e[2],r|=n&jt?0:Pt);var s=e[3];if(s){var u=t[3];t[3]=u?T(u,s,e[4]):s,t[4]=u?d(t[3],At):e[4]}return s=e[5],s&&(u=t[5],t[5]=u?A(u,s,e[6]):s,t[6]=u?d(t[5],At):e[6]),s=e[7],s&&(t[7]=s),i&Mt&&(t[8]=null==t[8]?e[8]:cn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t}function K(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}function Z(t){return Ye.call(t)}function tt(e,n,i){return n=un(n===It?e.length-1:n,0),function(){for(var r=arguments,a=-1,o=un(r.length-n,0),s=Array(o);++a<o;)s[a]=r[n+a];a=-1;for(var u=Array(n+1);++a<n;)u[a]=r[a];return u[n]=i(s),t(e,this,u)}}function et(t,e){for(var n=t.length,i=cn(e.length,n),r=j(t);i--;){var a=e[i];t[i]=G(a,n)?r[a]:It}return t}function nt(t,e,n){var i=e+"";return bn(t,U(i,at(H(i),n)))}function it(t){var e=0,n=0;return function(){var i=ln(),r=Nt-(i-n);if(n=i,r>0){if(++e>=Rt)return arguments[0]}else e=0;return t.apply(It,arguments)}}function rt(t){if(null!=t){try{return Qe.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function at(t,i){return e(Wt,function(e){var r="_."+e[0];i&e[1]&&!n(t,r)&&t.push(r)}),t.sort()}function ot(t,e,n){function i(e){var n=p,i=f;return p=f=It,y=e,v=t.apply(i,n)}function r(t){return y=t,m=setTimeout(s,e),b?i(t):v}function a(t){var n=t-g,i=t-y,r=e-n;return w?cn(r,h-i):r}function o(t){var n=t-g,i=t-y;return g===It||n>=e||n<0||w&&i>=h}function s(){var t=wn();return o(t)?u(t):void(m=setTimeout(s,a(t)))}function u(t){return m=It,x&&p?i(t):(p=f=It,v)}function c(){m!==It&&clearTimeout(m),y=0,p=g=f=m=It}function l(){return m===It?v:u(wn())}function d(){var t=wn(),n=o(t);if(p=arguments,f=this,g=t,n){if(m===It)return r(g);if(w)return clearTimeout(m),m=setTimeout(s,e),i(g)}return m===It&&(m=setTimeout(s,e)),v}var p,f,h,v,m,g,y=0,b=!1,w=!1,x=!0;if("function"!=typeof t)throw new TypeError(Tt);return e=yt(e)||0,pt(n)&&(b=!!n.leading,w="maxWait"in n,h=w?un(yt(n.maxWait)||0,e):h,x="trailing"in n?!!n.trailing:x),d.cancel=c,d.flush=l,d}function st(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new TypeError(Tt);return pt(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),ot(t,e,{leading:i,maxWait:e,trailing:r})}function ut(t,e){return t===e||t!==t&&e!==e}function ct(t){return null!=t&&dt(t.length)&&!lt(t)}function lt(t){if(!pt(t))return!1;var e=x(t);return e==te||e==ee||e==Jt||e==oe}function dt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Bt}function pt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ft(t){return null!=t&&"object"==typeof t}function ht(t){return"string"==typeof t||!In(t)&&ft(t)&&x(t)==ce}function vt(t){return"symbol"==typeof t||ft(t)&&x(t)==le}function mt(t){if(!t)return 0===t?t:0;if(t=yt(t),t===zt||t===-zt){var e=t<0?-1:1;return e*Ht}return t===t?t:0}function gt(t){var e=mt(t),n=e%1;return e===e?n?e-n:e:0}function yt(t){if("number"==typeof t)return t;if(vt(t))return Ut;if(pt(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=pt(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Se,"");var n=je.test(t);return n||Pe.test(t)?Oe(t.slice(2),n?2:8):Ae.test(t)?Ut:+t}function bt(t,e){var n=hn(t);return null==e?n:y(n,e)}function wt(t){return ct(t)?m(t):S(t)}function xt(t){return ct(t)?m(t,!0):I(t)}function _t(t){return function(){return t}}function Ct(t){return t}function Et(){}function St(){return!1}var It,kt="4.17.15",Tt="Expected a function",At="__lodash_placeholder__",jt=1,Lt=2,Pt=4,Dt=8,Vt=16,Ot=32,qt=64,Mt=128,Ft=256,$t=512,Rt=800,Nt=16,zt=1/0,Bt=9007199254740991,Ht=1.7976931348623157e308,Ut=NaN,Gt=4294967295,Wt=[["ary",Mt],["bind",jt],["bindKey",Lt],["curry",Dt],["curryRight",Vt],["flip",$t],["partial",Ot],["partialRight",qt],["rearg",Ft]],Qt="[object Arguments]",Xt="[object Array]",Jt="[object AsyncFunction]",Yt="[object Boolean]",Kt="[object Date]",Zt="[object Error]",te="[object Function]",ee="[object GeneratorFunction]",ne="[object Map]",ie="[object Number]",re="[object Null]",ae="[object Object]",oe="[object Proxy]",se="[object RegExp]",ue="[object Set]",ce="[object String]",le="[object Symbol]",de="[object Undefined]",pe="[object WeakMap]",fe="[object ArrayBuffer]",he="[object DataView]",ve="[object Float32Array]",me="[object Float64Array]",ge="[object Int8Array]",ye="[object Int16Array]",be="[object Int32Array]",we="[object Uint8Array]",xe="[object Uint8ClampedArray]",_e="[object Uint16Array]",Ce="[object Uint32Array]",Ee=/[\\^$.*+?()[\]{}|]/g,Se=/^\s+|\s+$/g,Ie=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ke=/\{\n\/\* \[wrapped with (.+)\] \*/,Te=/,? & /,Ae=/^[-+]0x[0-9a-f]+$/i,je=/^0b[01]+$/i,Le=/^\[object .+?Constructor\]$/,Pe=/^0o[0-7]+$/i,De=/^(?:0|[1-9]\d*)$/,Ve={};Ve[ve]=Ve[me]=Ve[ge]=Ve[ye]=Ve[be]=Ve[we]=Ve[xe]=Ve[_e]=Ve[Ce]=!0,Ve[Qt]=Ve[Xt]=Ve[fe]=Ve[Yt]=Ve[he]=Ve[Kt]=Ve[Zt]=Ve[te]=Ve[ne]=Ve[ie]=Ve[ae]=Ve[se]=Ve[ue]=Ve[ce]=Ve[pe]=!1;var Oe=parseInt,qe="object"==typeof global&&global&&global.Object===Object&&global,Me="object"==typeof self&&self&&self.Object===Object&&self,Fe=qe||Me||Function("return this")(),$e="object"==typeof exports&&exports&&!exports.nodeType&&exports,Re=$e&&"object"==typeof module&&module&&!module.nodeType&&module,Ne=Re&&Re.exports===$e,ze=Ne&&qe.process,Be=function(){try{var t=Re&&Re.require&&Re.require("util").types;return t?t:ze&&ze.binding&&ze.binding("util")}catch(e){}}(),He=Be&&Be.isTypedArray,Ue=Function.prototype,Ge=Object.prototype,We=Fe["__core-js_shared__"],Qe=Ue.toString,Xe=Ge.hasOwnProperty,Je=function(){var t=/[^.]+$/.exec(We&&We.keys&&We.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Ye=Ge.toString,Ke=RegExp("^"+Qe.call(Xe).replace(Ee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ze=Ne?Fe.Buffer:It,tn=Fe.Symbol,en=Object.create,nn=Ge.propertyIsEnumerable,rn=tn?tn.toStringTag:It,an=function(){try{var t=z(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),on=Ze?Ze.isBuffer:It,sn=l(Object.keys,Object),un=Math.max,cn=Math.min,ln=Date.now,dn=z(Fe,"WeakMap"),pn=dn&&new dn,fn={},hn=function(){function t(){}return function(e){if(!pt(e))return{};if(en)return en(e);t.prototype=e;var n=new t;return t.prototype=It,n}}();v.prototype=hn(h.prototype),v.prototype.constructor=v;var vn=pn?function(t,e){return pn.set(t,e),t}:Ct,mn=an?function(t,e){return an(t,"toString",{configurable:!0,enumerable:!1,value:_t(e),writable:!0})}:Ct,gn=pn?function(t){return pn.get(t)}:Et,yn=it(vn),bn=it(mn),wn=function(){return Fe.Date.now()},xn=k(function(t,e,n){var i=jt;if(n.length){var r=d(n,N(xn));i|=Ot}return $(t,i,e,n,r)}),_n=k(function(t,e){return w(t,1,e)}),Cn=k(function(t,e,n){return w(t,yt(e)||0,n)}),En=k(function(t,e){var n=d(e,N(En));return $(t,Ot,It,e,n)}),Sn=_(function(){return arguments}())?_:function(t){return ft(t)&&Xe.call(t,"callee")&&!nn.call(t,"callee")},In=Array.isArray,kn=on||St,Tn=He?s(He):E,An=P(function(t,e){if(J(e)||ct(e))return void L(e,wt(e),t);for(var n in e)Xe.call(e,n)&&g(t,n,e[n])}),jn=P(function(t,e){L(e,xt(e),t)}),Ln=k(function(t,e){t=Object(t);var n=-1,i=e.length,r=i>2?e[2]:It;for(r&&W(e[0],e[1],r)&&(i=1);++n<i;)for(var a=e[n],o=xt(a),s=-1,u=o.length;++s<u;){var c=o[s],l=t[c];(l===It||ut(l,Ge[c])&&!Xe.call(t,c))&&(t[c]=a[c])}return t});return f.assign=An,f.assignIn=jn,f.bind=xn,f.constant=_t,f.create=bt,f.debounce=ot,f.defaults=Ln,f.defer=_n,f.delay=Cn,f.keys=wt,f.keysIn=xt,f.partial=En,f.throttle=st,f.extend=jn,f.eq=ut,f.identity=Ct,f.isArguments=Sn,f.isArray=In,f.isArrayLike=ct,f.isBuffer=kn,f.isFunction=lt,f.isLength=dt,f.isObject=pt,f.isObjectLike=ft,f.isString=ht,f.isSymbol=vt,f.isTypedArray=Tn,f.stubFalse=St,f.noop=Et,f.now=wn,f.toFinite=mt,f.toInteger=gt,f.toNumber=yt,f.VERSION=kt,e(["bind","partial"],function(t){f[t].placeholder=f}),"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Fe._=f,define(function(){return f})):Re?((Re.exports=f)._=f,$e._=f):Fe._=f,f}.call(this);/*!
     * @overview es6-promise - a tiny implementation of Promises/A+.
     * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
     * @license   Licensed under MIT license
     *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
     * @version   2.0.1
     */
(function(){"use strict";function i(t){return"function"==typeof t||"object"==typeof t&&null!==t}function r(t){return"function"==typeof t}function a(t){return"object"==typeof t&&null!==t}function o(){}function s(){return function(){process.nextTick(d)}}function u(){var t=0,n=new R(d),i=e.createTextNode("");return n.observe(i,{characterData:!0}),function(){i.data=t=++t%2}}function c(){var t=new MessageChannel;return t.port1.onmessage=d,function(){t.port2.postMessage(0)}}function l(){return function(){setTimeout(d,1)}}function d(){for(var t=0;t<M;t+=2){var e=z[t],i=z[t+1];e(i),z[t]=n,z[t+1]=n}M=0}function p(){}function f(){return new TypeError("You cannot resolve a promise with itself")}function h(){return new TypeError("A promises callback cannot return that same promise.")}function v(t){try{return t.then}catch(e){return G.error=e,G}}function m(t,e,n,i){try{t.call(e,n,i)}catch(r){return r}}function g(t,e,n){F(function(t){var i=!1,r=m(n,e,function(n){i||(i=!0,e!==n?w(t,n):_(t,n))},function(e){i||(i=!0,C(t,e))},"Settle: "+(t._label||" unknown promise"));!i&&r&&(i=!0,C(t,r))},t)}function y(t,e){e._state===H?_(t,e._result):t._state===U?C(t,e._result):E(e,n,function(e){w(t,e)},function(e){C(t,e)})}function b(t,e){if(e.constructor===t.constructor)y(t,e);else{var i=v(e);i===G?C(t,G.error):i===n?_(t,e):r(i)?g(t,e,i):_(t,e)}}function w(t,e){t===e?C(t,f()):i(e)?b(t,e):_(t,e)}function x(t){t._onerror&&t._onerror(t._result),S(t)}function _(t,e){t._state===B&&(t._result=e,t._state=H,0===t._subscribers.length||F(S,t))}function C(t,e){t._state===B&&(t._state=U,t._result=e,F(x,t))}function E(t,e,n,i){var r=t._subscribers,a=r.length;t._onerror=null,r[a]=e,r[a+H]=n,r[a+U]=i,0===a&&t._state&&F(S,t)}function S(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var i,r,a=t._result,o=0;o<e.length;o+=3)i=e[o],r=e[o+n],i?T(n,i,r,a):r(a);t._subscribers.length=0}}function I(){this.error=null}function k(t,e){try{return t(e)}catch(n){return W.error=n,W}}function T(t,e,n,i){var a,o,s,u,c=r(n);if(c){if(a=k(n,i),a===W?(u=!0,o=a.error,a=null):s=!0,e===a)return void C(e,h())}else a=i,s=!0;e._state!==B||(c&&s?w(e,a):u?C(e,o):t===H?_(e,a):t===U&&C(e,a))}function A(t,e){try{e(function(e){w(t,e)},function(e){C(t,e)})}catch(n){C(t,n)}}function j(t,e,n,i){this._instanceConstructor=t,this.promise=new t(p,i),this._abortOnReject=n,this._validateInput(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._init(),0===this.length?_(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&_(this.promise,this._result))):C(this.promise,this._validationError())}function L(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function P(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function D(t){this._id=Z++,this._state=n,this._result=n,this._subscribers=[],p!==t&&(r(t)||L(),this instanceof D||P(),A(this,t))}var V;V=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var O,q=V,M=(Date.now||function(){return(new Date).getTime()},Object.create||function(t){if(arguments.length>1)throw new Error("Second argument not supported");if("object"!=typeof t)throw new TypeError("Argument must be an object");return o.prototype=t,new o},0),F=function(t,e){z[M]=t,z[M+1]=e,M+=2,2===M&&O()},$="undefined"!=typeof t?t:{},R=$.MutationObserver||$.WebKitMutationObserver,N="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,z=new Array(1e3);O="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?s():R?u():N?c():l();var B=void 0,H=1,U=2,G=new I,W=new I;j.prototype._validateInput=function(t){return q(t)},j.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},j.prototype._init=function(){this._result=new Array(this.length)};var Q=j;j.prototype._enumerate=function(){for(var t=this.length,e=this.promise,n=this._input,i=0;e._state===B&&i<t;i++)this._eachEntry(n[i],i)},j.prototype._eachEntry=function(t,e){var n=this._instanceConstructor;a(t)?t.constructor===n&&t._state!==B?(t._onerror=null,this._settledAt(t._state,e,t._result)):this._willSettleAt(n.resolve(t),e):(this._remaining--,this._result[e]=this._makeResult(H,e,t))},j.prototype._settledAt=function(t,e,n){var i=this.promise;i._state===B&&(this._remaining--,this._abortOnReject&&t===U?C(i,n):this._result[e]=this._makeResult(t,e,n)),0===this._remaining&&_(i,this._result)},j.prototype._makeResult=function(t,e,n){return n},j.prototype._willSettleAt=function(t,e){var i=this;E(t,n,function(t){i._settledAt(H,e,t)},function(t){i._settledAt(U,e,t)})};var X=function(t,e){return new Q(this,t,(!0),e).promise},J=function(t,e){function i(t){w(o,t)}function r(t){C(o,t)}var a=this,o=new a(p,e);if(!q(t))return C(o,new TypeError("You must pass an array to race.")),o;for(var s=t.length,u=0;o._state===B&&u<s;u++)E(a.resolve(t[u]),n,i,r);return o},Y=function(t,e){var n=this;if(t&&"object"==typeof t&&t.constructor===n)return t;var i=new n(p,e);return w(i,t),i},K=function(t,e){var n=this,i=new n(p,e);return C(i,t),i},Z=0,tt=D;D.all=X,D.race=J,D.resolve=Y,D.reject=K,D.prototype={constructor:D,then:function(t,e){var n=this,i=n._state;if(i===H&&!t||i===U&&!e)return this;var r=new this.constructor(p),a=n._result;if(i){var o=arguments[i-1];F(function(){T(i,r,o,a)})}else E(n,r,t,e);return r},"catch":function(t){return this.then(null,t)}};var et=function(){var e;e="undefined"!=typeof global?global:"undefined"!=typeof t&&t.document?t:self;var n="Promise"in e&&"resolve"in e.Promise&&"reject"in e.Promise&&"all"in e.Promise&&"race"in e.Promise&&function(){var t;return new e.Promise(function(e){t=e}),r(t)}();n||(e.Promise=tt)},nt={Promise:tt,polyfill:et};"function"==typeof define&&define.amd?define(function(){return nt}):"undefined"!=typeof module&&module.exports?module.exports=nt:"undefined"!=typeof this&&(this.ES6Promise=nt)}).call(t),t.ES6Promise.polyfill();var r=function(){var e=function(t){return t||(t={}),t.assert=t.clear=t.count=t.debug=t.dir=t.dirxml=t.error=t.exception=t.group=t.groupCollapsed=t.groupEnd=t.info=t.log=t.markTimeline=t.profile=t.profileEnd=t.table=t.time=t.timeEnd=t.timeStamp=t.trace=t.warn=function(){},t};return t.console||(t.console=e()),e}.call(t);!function(){"use strict";var a=!(!t.LIVEBALL||!t.LIVEBALL.inStudio);if(a){var o;o=t.LIVEBALL.App?t.LIVEBALL.App.features.labs:t.LIVEBALL.features&&t.LIVEBALL.features.labs}t.ixp=t.ixp||{};var s=t.ixp.runtime=t.ixp.runtime||{};s.fn=s.fn||{};var u=[],c=!1;s.ready=function(e,n){if("function"!=typeof e)throw new Error("runtime.ready requires the callback to be a function");var r=n?function(){e.call(n)}:e;return c?void(i.isFunction(t.requestAnimationFrame)?t.requestAnimationFrame(r):setTimeout(r,0)):void u.push(r)};var l=s.constants=s.constants||{};s.flags=s.flags||{};var d=function(){for(var e,n={},i=/\+/g,r=/([^&=]+)=?([^&]*)/g,a=function(t){try{return decodeURIComponent(t.replace(i," "))}catch(e){return console.error(e),null}},o=t.location.search.substring(1);e=r.exec(o);)n[a(e[1])]=a(e[2]);return n};s.queryString=d();var p="https:"===t.location.protocol;s.flags.https=p,"true"!==s.queryString.debug&&"true"!==s.queryString._ion_debug||(s.flags.debug=!0);var f=!!s.flags.debug;s.console=f?t.console:r(),s.log=function(){f&&("function"==typeof s.console.log?s.console.log.apply(s.console,arguments):s.console.log(Array.prototype.slice.call(arguments)))},a&&(s.studio={app:t.LIVEBALL.App,labs:!!o}),s.paths=s.paths||{},function(t){var e={https:"https://8f2a3f802cdf2859af9e-51128641de34f0801c2bd5e1e5f0dc25.ssl.cf1.rackcdn.com",http:"http://1f1835935797600af226-51128641de34f0801c2bd5e1e5f0dc25.r5.cf1.rackcdn.com"},n=function(t){return t.replace(/^\//g,"")},i=function(t){return t.replace(/\/$/g,"")},r=function(t){return n(i(t))};t.join=function(){for(var t=Array.prototype.slice.call(arguments,0),e=[],n=0,a=t.length;n<a;n++){var o=t[n];if("string"!=typeof o)throw new Error("Arguments to path.join must be strings");"/"!==o&&(o=0===n?i(o):r(o),e=e.concat(o.split("/")))}return e.join("/")},t.getCdnPath=function(){var n=p?e.https:e.http;if(!arguments.length)return n;var i=Array.prototype.slice.call(arguments,0);i=[n].concat(i);var r=t.join.apply(this,i);return s.flags.debug?r.replace(".min",""):r}}.call(this,s.paths),s.dependencies=s.dependencies||{};var h=s.components=s.components||{};h.dependencies=h.dependencies||{},h.dependencies._=i,function(n,i){var r={},a={};s.flags.debug&&(n._modules=r,n._loading=a);var o=function(t,e){for(var n=t.split("."),i=e.split(".");n.length<i.length;)n.push("0");for(;i.length<n.length;)i.push("0");for(var r=0,a=n.length;r<a;r++){var o=Number(n[r]),s=Number(i[r]);if(o!==s)return o>s?1:-1}return 0},u=function(t,e){if(t instanceof Array){for(var n=[],i=0,r=t.length;i<r;i++){var a=t[i];n.push({version:e(a),module:a})}return n.length>1&&n.sort(function(t,e){return-o(t.version,e.version)}),n}return[]},c=function(t,n){var i=e.createElement("script"),r=e.head||e.getElementsByTagName("head")[0],a=!1,o=n.load;n.load=function(){a||(a=!0,o.apply(this,arguments))},i.onreadystatechange=function(){"loaded"!==i.readyState&&"complete"!==i.readyState||(n.load(),i.onreadystatechange=null)},i.onload=n.load,i.onerror=n.error,i.src=t,r.appendChild(i)},l=function(t,e,n){var i=t.instances;i.length||"function"!=typeof e.findInstances||(i=t.instances=u(e.findInstances(),e.getInstanceVersion));var r=n.minVer||n.version,a=n.maxVer||n.upToVersion,s=!(!r&&!a);if(!s&&1===i.length)return i[0].module;if(i.length){if(!s)return i[0].module;for(var c,l=0,d=i.length;l<d;l++)if(c=i[l],(!r||o(c.version,r)>=0)&&(!a||o(c.version,a)<0))return c.module}return null},d=function(t,e,n){if("function"==typeof n){var i=n;n={done:i}}else n||(n={});var u,d=r[t];if(n.sync===!0)return l(d,e,n);var p=new Promise(function(t,i){var r=d.instances,p=l(d,e,n);return p?void t(p):(u=n.url||e.url)?a[u]?(s.flags.debug&&console.log("queuing module url="+u,n),void a[u].then(t)["catch"](i)):(s.flags.debug&&console.log("loading module url="+u,n),void c(u,{load:function(){delete a[u];try{var n=e.getInstanceExport();r.push({version:e.getInstanceVersion(n),module:n}),r.length>1&&r.sort(function(t,e){return-o(t.version,e.version)}),t(n)}catch(s){i(s)}},error:function(t){delete a[u],t=new Error("failed to load script: url="+u),i(t)}})):void i(new Error("No module instances found"))});return u&&!a[u]&&(a[u]=p),"function"==typeof n.done&&p.then(function(t){n.done(t)}),"function"==typeof n.fail&&p["catch"](function(t){n.fail(t)}),p};n.define=function(t,e){if(!t||"string"!=typeof t)throw new Error("(string) module name is required");if(e||(e={}),"function"!=typeof e.getInstanceExport||"function"!=typeof e.getInstanceVersion)throw new Error("options must contain getInstanceExport and getInstanceVersion functions");if(t=t.toLowerCase(),r[t])throw new Error("module "+t+" has already been defined");r[t]={loader:function(n){return d(t,e,n)},instances:[]}},n.require=function(t,e){if(!t||"string"!=typeof t)throw new Error("(string) module name is required");t=t.toLowerCase();var n=r[t];if(!n)throw new Error("module "+t+" has not been defined");return n.loader(e)},n.define("jQuery",{url:s.dependencies.jQueryUrl,findInstances:function(){var e=[];return i&&i.jQuery&&i.jQuery.v1_11&&e.push(i.jQuery.v1_11),t.jQuery&&e.push(t.jQuery),t.$&&(!t.jQuery||t.jQuery&&t.jQuery!==t.$)&&e.push(t.$),e},getInstanceExport:function(){return t.jQuery.noConflict(!0)},getInstanceVersion:function(t){return t.fn.jquery}})}.call(this,s.dependencies,h.dependencies);var v=s.dependencies.require("jQuery",{minVer:"1.11.1",maxVer:"1.11.2"});s.events=s.events||{},function(t){var e={};s.flags.debug&&(t._subscriptions=e);var r=function(t,e){var n,i,r,a,o=-1,s=t.length;switch(e.length){case 0:for(;++o<s;)(n=t[o]).fn.call(n.ctx);return;case 1:for(i=e[0];++o<s;)(n=t[o]).fn.call(n.ctx,i);return;case 2:for(i=e[0],r=e[1];++o<s;)(n=t[o]).fn.call(n.ctx,i,r);return;case 3:for(i=e[0],r=e[1],a=e[2];++o<s;)(n=t[o]).fn.call(n.ctx,i,r,a);return;default:for(e=e||[];++o<s;)(n=t[o]).fn.apply(n.ctx,e);return}};t.on=function(t,n,i){if(!t||!n||!i)throw new Error("context, name, and callback are required");n=n.toLowerCase();var r=e[n]||(e[n]=[]);return r.push({ctx:t,fn:i}),this},t.once=function(t,e,n){if(!t||!e||!n)throw new Error("context, name, and callback are required");var i=this,r=function(){i.off(e,r),n.apply(this,arguments)};return this.on(t,e,r)},t.off=function(t,n,r){if(!t)throw new Error("context is required");for(var a=n?[n]:i.keys(e),o=0,s=a.length;o<s;o++){n=a[o],n=n.toLowerCase();var u=e[n];if(u){for(var c=[],l=0,d=u.length;l<d;l++){var p=u[l];(t!==p.ctx||r&&r!==p.fn)&&c.push(p)}c.length?e[n]=c:delete e[n]}}return this},t.trigger=function(t,i){var a;if("string"==typeof t?(a=Array.prototype.slice.call(arguments,1),i=t,t=n):a=Array.prototype.slice.call(arguments,2),!i||!e)return!1;i=i.toLowerCase();var o=e[i];if(!o)return!1;if(t){for(var s,u=[],c=-1,l=o.length;++c<l;)(s=o[c]).ctx!==t&&u.push(s);o=u}return r(o,a),!0}}.call(this,s.events);var m,g=function(){var t=(s.context.id||"").split("$");return 3===t.length?t[2]:0},y=function(t,e){var i={url:e.url,async:!0,data:"DELETE"===e.type?n:JSON.stringify(e.data),dataType:"json",contentType:"application/json; charset=utf-8",type:e.type||"POST",cache:!1,success:e.success&&t.proxy(e.success,this),error:e.error&&t.proxy(e.error,this)};e.always=e.always||t.proxy(e.always||function(){},this);var r;if(e.queue===!1)r=Promise.resolve(t.ajax(i).always(e.always));else{if(m){var a=function(){return Promise.resolve(t.ajax(i).always(e.always))};r=m.then(a,a)}else r=Promise.resolve(t.ajax(i).always(e.always));m=r}return r};s.constants.promise=s.constants.promise||{},s.constants.promise={cancellationError:"Promise has been cancelled"};var b=function(t){return v.then(function(e){return y(e,t)})},w=function(t){if(!i.isFunction(e.querySelectorAll))return null;for(var n,r=t.toLowerCase(),a=e.querySelectorAll(s.constants.anchor.attrSelector),o=a.length-1;o>=0;o--)if(n=a[o],n.getAttribute(s.constants.anchor.attr).toLowerCase()===r)return n;return null};(function(){s.constants.anchor=s.constants.anchor||{},s.constants.anchor={attr:"data-ixp-anchor",attrSelector:"[data-ixp-anchor]"},s.runScriptlet=function(t,e){e||(e={});var n={scriptletId:t,options:e,cancel:!1};if(s.events.trigger("runtime:runscriptlet:starting",n),!n.cancel){e=n.options||e;var i=b({url:"/admin/api/v1/scriptlets/"+t+"/run",data:{scriptletId:t,token:s.context.token,tokenId:g(),wait:!!e.wait},queue:e.queue});return n={scriptletId:t,options:e,promise:i},s.events.trigger("runtime:runscriptlet:completed",n),i}},s.runIntegration=function(t,e){e||(e={});var n={integrationId:t,options:e,cancel:!1};if(s.events.trigger("runtime:runintegration:starting",n),!n.cancel){e=n.options||e;var i=b({url:"/admin/api/v1/integrations/"+t+"/run",data:{integrationId:t,token:s.context.token,tokenId:g(),wait:!!e.wait},queue:e.queue});return n={integrationId:t,options:e,promise:i},s.events.trigger("runtime:runintegration:completed",n),i}},s.convert=function(t){t||(t={});var e={options:t,cancel:!1};if(s.events.trigger("runtime:convert:starting",e),!e.cancel){t=e.options||t;var n=b({url:"/outside/convert.ashx?lb3id="+s.context.id+"&v=1&rnd="+parseInt(31777*Math.random()),type:"GET",queue:t.queue});return e={options:t,promise:n},s.events.trigger("runtime:convert:completed",e),n}},s.tag=function(t,e){if(e||(e={}),!t)throw new Error("Tag cannot be empty");var n={tag:t,options:e,cancel:!1};if(s.events.trigger("runtime:tag:starting",n),!n.cancel){t=n.tag||t,e=n.options||e;var i=b({url:"/outside/tag.ashx?lb3id="+s.context.id+"&tag="+encodeURIComponent(t)+"&v=1&rnd="+parseInt(31777*Math.random()),type:"GET",queue:e.queue});return n={tag:t,options:e,promise:i},s.events.trigger("runtime:tag:completed",n),i}};var r=function(t,e){var n=t.parents("[data-ixp-component-root]");if(!n.length)return[];var i=[];return n.each(function(){var t=e(this),n=t.data("ixp-component-root"),r={element:t,id:n};i.push(r)}),i.reverse()},a=function(t){var e=0,n=s.components.sendCommand&&s.components.sendCommand("status","sticky_container");if(n&&n.length)for(var i=0,r=n.length;i<r;i++){var a=n[i].data;(a.sticksTo=a.isSticking||t&&a.scrollTop<t)&&(e+=a.offset+a.height)}return e},o=function(t,r,o){var u,c=function(){s.events.trigger(s.constants.visibility.events.recalculate,{}),s.events.trigger("runtime:scrollto:scrolled",r),u()},l=t.offset().top;if(r.preventOffset!==!0&&(l-=a(l)),r.inViewport!==n){var d=s.fn.isInViewport(t[0],r.inViewport);if(d)return new Promise(function(t){u=t,i.defer(c)})}return 0===r.speed?new Promise(function(t){u=t,o("html, body").stop().scrollTop(l),i.defer(c)}):new Promise(function(t){u=t;var n=e.scrollingElement||e.documentElement;o(n).stop().animate({scrollTop:l},{duration:r.speed,easing:"swing",always:i.debounce(c,17)})})};s.scrollTo=function(e,u){u||(u={}),v.then(function(c){var l,d;if(i.isObject(e)?(d=c(e),l=d.attr(s.constants.anchor.attr)):(l=e,d=c(w(l))),d.length){var p=d[0],f={anchor:l,element:p,speed:u.speed&&parseInt(u.speed,10)||0,updateUrlHash:l!==n&&(u.updateUrlHash===n||u.updateUrlHash),markAsConverted:l!==n&&u.markAsConverted!==n&&u.markAsConverted,inViewport:u.inViewport,preventOffset:!1,getOffsetTop:a},h=i.extend(f,{cancel:!1});if(s.events.trigger("runtime:scrollto:scrolling",h),!h.cancel){f.speed=h.speed,f.updateUrlHash=h.updateUrlHash,f.markAsConverted=h.markAsConverted,f.inViewport=h.inViewport;var v;f.completionPromise=new Promise(function(t,e){v=t}),f.updateUrlHash&&(s.events.trigger("runtime:scrollto:hash:changing",{hash:l}),t.location.hash="#"+l),f.markAsConverted&&s.convert();var m,g=Promise.resolve(),y=!1,b=r(d,c);if(b.length&&s.components.sendCommand){for(var x=[],_=0,C=b.length;_<C;_++){var E=s.components.sendCommand("scrollto",b[_].id,f);if(E)for(var S=0,I=E.length;S<I;S++){var k=E[S];k.data.preventDefault&&(y=!0),k.data.preventOffset&&(f.preventOffset=!0),k.data.element&&(m=f.element=k.data.element),f.inViewport=k.data.inViewport,x.push(k.data.promise)}}x.length&&(g=g.then(function(){return Promise.all(x)}))}return y||(m&&(d=c(m)),g=g.then(function(){return o(d,f,c)})),v&&g.then(v),g}}})}}).call(this),s.data=s.data||{},function(t){var e={},r=function(t,n,r){if(!t||!n||"string"!=typeof t)throw new Error("(string) key, and value are required");t=t.toLowerCase(),"string"==typeof n&&(n={value:n}),r||(r={}),!e[t]||r.replace?e[t]=n:e[t]=i.extend(e[t],n)};t.model=t.model||{},t.model.get=function(t){return t?(t=t.toLowerCase(),e[t]):i.extend({},e)};var o=function(t){if(!t)return null;if(t.indexOf("{")>-1)try{var e=JSON.parse(t);return{id:e.id,key:e.name}}catch(n){throw new Error("Data field contains invalid JSON")}var i=t.indexOf("\\");return i>-1?{id:0,key:t.substring(i+2)}:{id:0,key:t}},u=function(t,n,i){n=n instanceof Array?n:[n];for(var r,a,o=[],u=[],c=i?":saving":":saved",l=0,d=n.length;l<d;l++)if(r=n[l],i||"valid"===r.validation)a={key:r.key,value:r.value},o.push(a),s.events.trigger("runtime:data:"+r.key+c,{instanceId:t,data:a});else{var p=e[r.key];a={key:r.key,value:p&&p.value,failedValue:r.value,validation:r.validation},u.push(a),s.events.trigger("runtime:data:"+r.key+":failed",{instanceId:t,data:a})}var f={instanceId:t,data:o};i||(f.failed=u),s.events.trigger("runtime:data"+c,f)},c=function(t){if(t&&t.length)for(var e,n=0,i=t.length;n<i;n++)e=t[n],"valid"===e.validation&&r(e.key,{value:e.value})},l=function(t,e){var n=e.data.instanceId,r=i.isFunction(e.success)&&e.success;e.success=function(t){var e=t&&t instanceof Array?t:[t];if(c(e),r)try{r.apply(this,arguments)}catch(i){}e&&e.length&&u(n,e)};var a=i.isFunction(e.error)&&e.error;return e.error=function(t){var e;if(409===t.status){var i=JSON.parse(t.responseText);e=i&&i.responseStatus&&i.responseStatus.data,e&&(e=e instanceof Array?e:[e],c(e))}if(a)try{a.apply(this,arguments)}catch(r){}e&&e.length&&u(n,e)},y(t,e)};t.save=function(e){if(a||!e.submit&&!e.data)return Promise.resolve();!e.data&&e.submit&&(e.data=[]);var i,r,c,d="",p=e.data instanceof Array;if(p){d=e.submit?"/submit":"/bulk";for(var f,h=[],m=0,y=e.data.length;m<y;m++)f=e.data[m],c=o(f.dataField),c&&h.push({fieldId:c.id,key:c.key,value:f.value,metadata:f.metadata,method:f.method});(h.length||e.submit)&&(i={data:h,token:s.context.token,instanceId:e.instanceId})}else c=o(e.data.dataField),c&&(i={key:c.key,fieldId:c.id,value:e.data.value,metadata:e.data.metadata,token:s.context.token,instanceId:e.instanceId},e.data.method&&"DELETE"===e.data.method.toUpperCase()&&(d+="?token="+s.context.token,c.key&&(d+="&key="+c.key),c.id&&(d+="&fieldId="+c.id),r="DELETE",i.value=n));if(!i&&"DELETE"!==r)return"function"==typeof e.always&&e.always.call(this),Promise.resolve();u(i.instanceId,i,!0);var b=g(),w={url:"/admin/api/v1/respondents/"+b+"/data"+d,data:i,success:e.success,error:e.error,always:e.always,type:r};return v.then(function(e){return l.call(t,e,w)})},t["delete"]=function(e){return e.data?(e.data.method="DELETE",t.save(e)):Promise.resolve()},s.events.on(t,"runtime:data:registered",function(t){r(t.key,t.value)})}.call(this,s.data);var x={};(function(n){var i={},r=!1;try{var a=Object.defineProperty({},"passive",{get:function(){r=!0}});t.addEventListener("test",null,a)}catch(o){}n.on=function(t,e,n,a){var o=n;a||(a={}),!t.addEventListener&&t.attachEvent&&(o=function(){n.call(t)},i[e]=o);for(var s=e.split(" "),u=0,c=s.length;u<c;u++)t.addEventListener?t.addEventListener(s[u],o,!(!a.passive||!r)&&{passive:!0}):t.attachEvent&&t.attachEvent("on"+s[u],o)},n.off=function(t,e,n){var r=n;!t.addEventListener&&t.attachEvent&&(r=i[e]||n);for(var a=e.split(" "),o=0,s=a.length;o<s;o++)t.removeEventListener?t.removeEventListener(a[o],r,!1):t.detachEvent&&t.detachEvent("on"+a[o],r)},n.addClass=function(t,e){this.hasClass(t,e)||(t.className+=" "+e)},n.hasClass=function(t,e){return e=" "+e+" ",1===t.nodeType&&(" "+t.className+" ").replace(/[\n\t]/g," ").indexOf(e)>=0},n.removeClass=function(t,e){var n=1===t.nodeType&&(t.className?(" "+t.className+" ").replace(/[\n\t]/g," "):"");if(n){for(;n.indexOf(" "+e+" ")>=0;)n=n.replace(" "+e+" "," ");t.className=n.replace(/^\s+|\s+$/g,"")}},n.ready=function(n){var i=!1,r=!1,a=[],o=function(t){"function"==typeof t&&a.push(t)},s=function(){for(;a.length;)a.shift()();o=function(t){t()}},u=function(){e.addEventListener?e.removeEventListener("DOMContentLoaded",u,!1):e.detachEvent("onreadystatechange",u),c()},c=function(){if(!i){if(!e.body)return setTimeout(c,1);i=!0,s()}},l=function(){var n=!1;if(!r)if(r=!0,"loading"!==e.readyState&&c(),e.addEventListener)e.addEventListener("DOMContentLoaded",u,!1),t.addEventListener("load",u,!1);else if(e.attachEvent){e.attachEvent("onreadystatechange",u),t.attachEvent("onload",u);try{n=null==t.frameElement}catch(i){}e.documentElement.doScroll&&n&&d()}},d=function(){if(!i){try{e.documentElement.doScroll("left")}catch(t){return void setTimeout(d,1)}c()}};o(n),l()}}).call(this,x),x.hasClass(e.documentElement,"ixp-prevent-animations")&&(s.flags.preventAnimations=!0),function(i,r){var o,u={};l.visibility=function(t){var e="ixp-scroll-",n=t.css=t.css||{};n.awareness=e+"aware",n.inOnce=e+"in-once",n.seen=e+"seen";var i=n.microthemes=n.microthemes||{};i.awareness="ixp-scroll-aware-util",i.inOnce="ixp-scroll-in-once-util";var r=n.states=n.states||{};r.shown=e+"in",r.hidden=e+"out",r.entering=e+"enter",r.leaving=e+"leave";var a=t.events=t.events||{},c="visibility:";return a.recalculate=c+"recalculate",a.recalculating=c+"recalculating",a.change=c+"change",r=t.states=t.states||{},r.shown="shown",r.hidden="hidden",r.entering="entering",r.leaving="leaving",t.awarenessDelay=250,s.flags.preventAnimations?t.awarenessSelector="."+n.awareness+"."+n.microthemes.awareness+", ."+n.awareness+"."+n.microthemes.inOnce:t.awarenessSelector="."+n.awareness,o=r,u[r.shown]=n.states.shown,u[r.hidden]=n.states.hidden,u[r.entering]=n.states.entering,u[r.leaving]=n.states.leaving,t}.call(this,l.visibility||{}),l.parallax=function(t){var e=t.css=t.css||{};return e.parallax="ixp-parallax",t.parallaxSelector="."+t.css.parallax,t}.call(this,l.parallax||{});var c=function(t,e){e||(e={});var i=t.getBoundingClientRect();return i.height!==n&&i.width!==n||(i={top:i.top,left:i.left,bottom:i.bottom,right:i.right,height:i.bottom-i.top,width:i.right-i.left}),e.viewport&&(i={top:i.top+(e.viewport.scrollTop||0),left:i.left+(e.viewport.scrollLeft||0),bottom:i.bottom+(e.viewport.scrollTop||0),right:i.right+(e.viewport.scrollLeft||0),height:i.bottom-i.top,width:i.right-i.left}),e.round&&(i={top:Math.ceil(i.top),left:Math.ceil(i.left),bottom:Math.ceil(i.bottom),right:Math.ceil(i.right),height:Math.ceil(i.height),width:Math.ceil(i.width)}),i},d=function(n,i){i||(i={});var r=c(n,{round:!0,viewport:i.viewport}),a=Math.ceil(i.viewport&&i.viewport.windowHeight||t.innerHeight||e.documentElement.clientHeight),s=Math.ceil(i.viewport&&i.viewport.windowWidth||t.innerWidth||e.documentElement.clientWidth);if(null==i.tolerance){if("hidden"===(t.getComputedStyle&&t.getComputedStyle(n,null).getPropertyValue("visibility")))return o.hidden;if(r.height>=a||2*r.height>a&&r.top>0)return r.top>-r.height&&r.top<a?o.shown:o.hidden;if(r.top>=0&&r.bottom<a&&r.left>=0&&r.left<s)return o.shown;if(r.top>=a||r.bottom<=0||r.left>=s||r.right<=0)return o.hidden;if("up"===i.direction){if(r.top>-(r.height/2)&&r.top+r.height/2<a)return i.element.state==o.shown?o.shown:o.entering;if(r.top>-r.height&&r.top<a)return i.element.state==o.hidden?o.hidden:o.leaving}else{if(r.top>-(r.height/2)&&r.top+r.height/2<a)return i.element.state==o.shown?o.shown:o.entering;if(r.top>-r.height&&r.top<a)return i.element.state&&i.element.state!=o.hidden?o.leaving:o.hidden}return!1}var u=!1;if(r.height>=a&&(i.tolerance=0),1===i.tolerance)u=r.top>=0&&r.bottom<=a;else if(i.tolerance<1&&i.tolerance>0){var l=1/i.tolerance,d=r.height/l;u=r.top>-d&&r.top+d<a}else u=r.top>-r.height&&r.top<a;return u&&i.edge&&("top"===i.edge?u=r.top>=0:"bottom"===i.edge&&(u=r.bottom<a)),u};if(s.fn.isInViewport=d,i){var p=a?t.LIVEBALL:n,f=[],h=[],v=function(){var t=l.visibility,n=i.call(e,t.awarenessSelector);if(!n.length)return[];for(var a,o,s=[],u=0,c=n.length;u<c;++u)a=n[u],o=r.hasClass(a,t.css.inOnce),o&&r.hasClass(a,t.css.seen)||s.push({el:a,once:o});return s},m=function(){var t=l.parallax,n=i.call(e,t.parallaxSelector);if(!n.length)return[];for(var r,a,o=new RegExp("\\b"+t.css.parallax+"-(\\d+)"),s=[],u=0,c=n.length;u<c;++u)r=n[u],a=r.className.match(o),s.push({el:r,speed:1/((a&&a[1]&&parseInt(a[1])||400)/100)});return s},g=function(){f=v(),h=m()},y=null,b=null,w=0,x="webkitAnimationEnd oanimationend MSAnimationEnd animationend",_=function(n){return null==n||null==n.scrollTop||isNaN(n.scrollTop)?(t.pageYOffset||e.documentElement.scrollTop||0)-(e.documentElement.clientTop||0):n.scrollTop},C=function(t){t||(t={});var e=_(t.viewport),n=w-e;if(0!==n||t.force)for(var i,a,c,p=0,h=f.length;p<h;++p)if(i=f[p],a=d(i.el,{element:i,direction:n>0?"up":"down",viewport:t.viewport}),i.state=a,!r.hasClass(i.el,u[a])){for(c in o)o.hasOwnProperty(c)&&r.removeClass(i.el,u[o[c]]);r.addClass(i.el,u[a]),a!==o.shown||i.seen||(i.seen=!0,r.addClass(i.el,l.visibility.css.seen),i.once&&(f.splice(p,1),p--,h=f.length,i.el.addEventListener&&function(t){var e=function(n){n.target===t&&(r.off(t,x,e),r.removeClass(t,l.visibility.css.states.shown))};r.on(t,x,e,{passive:!0})}.call(this,i.el))),s.events.trigger(l.visibility.events.change,{el:i.el,once:i.once,seen:i.seen,state:a})}w=e,y=null},E=/url\(\s*["']?([^"']+)["']?\s*\)/,S=function(t){var e=t.style.backgroundPosition.split(" ");1===e.length&&(e[0]=t.style.backgroundPositionX,e[1]=t.style.backgroundPositionY);for(var n=0,i=e.length;n<i;n++)switch(e[n]){case"left":e[n]="0%";break;case"right":e[n]="100%";break;case"top":e[n]="0%";break;case"bottom":e[n]="100%";break;case"center":e[n]="50%"}return e[0]=e[0]||"0%",e},I=function(t,e,n,i,r){var a=e.el.style.backgroundImage.match(E);if(a){var o=new Image;o.onload=function(){t.call(this,e,n,i,r)},o.src=a[1]}return!!a},k=function(t,e,n,i){t.y=(e-this.height)/i,n&&(t.el.style.backgroundPosition=t.x+" "+(t.y+n)+"px")},T=function(t){t||(t={});for(var e,i,r,a=_(t.viewport),o=0,s=h.length;o<s;++o)if(e=h[o],d(e.el,{tolerance:0,viewport:t.viewport}))if(i=-a*e.speed,r=c(e.el),e.bgPos!==n)e.el.style.backgroundPosition=e.x+" "+(e.y+i)+"px";else{var u=S(e.el);e.bgPos=u,e.x=u[0];var l=u[1];if("%"===l.charAt(l.length-1))if(l=parseInt(l,10),0===l)e.y=0;else{var p=100/l;if(e.y=r.height/p,I(k,e,r.height,i,p))continue}else e.y=parseFloat(l);i&&(e.el.style.backgroundPosition=e.x+" "+(e.y+i)+"px")}b=null},A=function(t,e){if(f.length||h.length){e||(e={});var n={options:e,cancel:!1};if(s.events.trigger(l.visibility.events.recalculating,n),!n.cancel){var i=e.force;!i&&y||!f.length||(y&&clearTimeout(y),y=setTimeout(function(){C({force:i,viewport:e.viewport})},e.delay||l.visibility.awarenessDelay)),!i&&b||!h.length||(b&&clearTimeout(b),b=setTimeout(function(){T({viewport:e.viewport})},1))}}},j=function(t){t||(t={}),t.reset&&g(),A(null,{force:!0,delay:t.delay||1,viewport:t.viewport})};r.ready(function(){if(g(),(f.length||h.length||p)&&(r.on(t,"scroll",A,{passive:!0}),r.on(t,"resize",function(t){A(t,{force:!0})},{passive:!0}),s.events.on(t,l.visibility.events.recalculate,j),A(null,{force:!0}),p))var e=new RegExp("\\b"+l.parallax.css.parallax+"\\b"),n=new RegExp("\\b"+l.visibility.css.awareness+"\\b"),i=t.setInterval(function(){if(p.App&&p.App.vent){t.clearInterval(i);var r;p.App.vent.subscribe("style:changed:background style:changed:customClass element:microtheme:applied element:microtheme:removed",function(i){if(!i||!i.classes||i.classes.match(n)||i.classes.match(e)){for(var a,o=0,s=h.length;o<s;++o)a=h[o],a.bgPos&&(a.el.style.backgroundPosition=a.bgPos.join(" "));h=[],r&&(t.clearTimeout(r),r=null),r=setTimeout(function(){j({reset:!0})},250)}})}},500)})}}.call(this,e.querySelectorAll,x),function(){s.constants.interaction=s.constants.interaction||{},s.constants.interaction={attrSelector:"[data-ixp-interaction]",triggerAttrSelector:"[data-ixp-interaction-trigger]"};var r=function(t){var e=t.name.toLowerCase(),n=e.lastIndexOf(":"),i=e.substring(0,n),r=e.substring(n+1);try{if(t.data||(t.data={}),"runtime"===i){switch(r){case"tag":return s.tag(t.data.tag,t.data.options);case"convert":return s.convert(t.data.options);case"scrollto":return s.scrollTo(t.data.anchor,t.data.options)}return Promise.reject()}var a=s.components.sendCommand&&s.components.sendCommand(r,i,t.data);return Promise.resolve(a)}catch(o){return Promise.reject(o)}},a=!1;v.then(function(o){s.ready(function(){for(var u=function(t){var e=o(this),n=e.attr("data-ixp-interaction");if(n){n=JSON.parse(n);var i=t.type,a=n[i];if(a&&a.length){"click"===i.toLowerCase()&&t.preventDefault();for(var s,u=0,c=a.length;u<c;u++){var l=a[u];l.queue===!1?r(l)["catch"](function(t){console.warn(t)}):s=s?s.then(function(){return r(l)}):r(l)}s&&s["catch"](function(t){console.warn(t)})}}},c=["click","hover"],l=o(e),d=0,p=c.length;d<p;d++){var f=c[d];l.on(f+".ixp-runtime",'[data-ixp-interaction-trigger~=":'+f+'"]',u)}var h={},v=function(e){var n=e.hash&&e.hash.toLowerCase();n&&t.location.hash.toLowerCase()!=="#"+n&&(h[n]=!0)};s.events.on(s,"runtime:scrollto:hash:changing",v),s.events.on(s,"runtime:scrollto:ignore:hash:changing",v);var m=i.debounce(s.scrollTo,100),g=function(){var e=t.location.hash;if(e){0===e.indexOf("#")&&(e=e.substring(1));var i=e.toLowerCase();h[i]?h[i]=n:m(e)}};o(t).on("hashchange.ixp-runtime",g),o(function(){a=!0,s.flags.nativeAnchorSupport&&o("a[data-ixp-hidden-anchor]").remove()})})}),function(){var e=function(n){var r=w(n);return r?void s.scrollTo(r,{updateUrlHash:!0}):void(a||(i.isFunction(t.requestAnimationFrame)?t.requestAnimationFrame(function(){e(n)}):setTimeout(function(){e(n)},10)))},n=t.location.hash;n&&(0===n.indexOf("#")&&(n=n.substring(1)),s.anchors&&s.anchors[n.toLowerCase()]&&e(n))}.call(this)}.call(this),
function(){if(c=!0,0!==u.length)for(var t=0,e=u.length;t<e;t++)try{u[t]()}catch(n){console.error(n)}}.call(this)}()}(window,document),function(t,e,n){/* Modernizr 2.8.3 (Custom Build) | MIT & BSD
     * Build: http://modernizr.com/download/#-rgba-cssanimations-csstransforms-csstransforms3d-csstransitions-canvas-input-inputtypes-touch-mq-cssclasses-teststyles-testprop-testallprops-hasevent-prefixes-domprefixes-css_calc-css_mediaqueries-css_pointerevents-cssclassprefix:ixp!mzr!
     */
var i=function(t,e,n){function i(t){y.cssText=t}function r(t,e){return typeof t===e}function a(t,e){return!!~(""+t).indexOf(e)}function o(t,e){for(var i in t){var r=t[i];if(!a(r,"-")&&y[r]!==n)return"pfx"!=e||r}return!1}function s(t,e,i){for(var a in t){var o=e[t[a]];if(o!==n)return i===!1?t[a]:r(o,"function")?o.bind(i||e):o}return!1}function u(t,e,n){var i=t.charAt(0).toUpperCase()+t.slice(1),a=(t+" "+C.join(i+" ")+i).split(" ");return r(e,"string")||r(e,"undefined")?o(a,e):(a=(t+" "+E.join(i+" ")+i).split(" "),s(a,e,n))}function c(){f.input=function(n){for(var i=0,r=n.length;i<r;i++)k[n[i]]=!!(n[i]in b);return k.list&&(k.list=!(!e.createElement("datalist")||!t.HTMLDataListElement)),k}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),f.inputtypes=function(t){for(var i,r,a,o=0,s=t.length;o<s;o++)b.setAttribute("type",r=t[o]),i="text"!==b.type,i&&(b.value=w,b.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(r)&&b.style.WebkitAppearance!==n?(v.appendChild(b),a=e.defaultView,i=a.getComputedStyle&&"textfield"!==a.getComputedStyle(b,null).WebkitAppearance&&0!==b.offsetHeight,v.removeChild(b)):/^(search|tel)$/.test(r)||(i=/^(url|email)$/.test(r)?b.checkValidity&&b.checkValidity()===!1:b.value!=w)),I[t[o]]=!!i;return I}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var l,d,p="2.8.3",f={},h=!0,v=e.documentElement,m="modernizr",g=e.createElement(m),y=g.style,b=e.createElement("input"),w=":)",x=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),_="Webkit Moz O ms",C=_.split(" "),E=_.toLowerCase().split(" "),S={},I={},k={},T=[],A=T.slice,j=function(t,n,i,r){var a,o,s,u,c=e.createElement("div"),l=e.body,d=l||e.createElement("body");if(parseInt(i,10))for(;i--;)s=e.createElement("div"),s.id=r?r[i]:m+(i+1),c.appendChild(s);return a=["&#173;",'<style id="s',m,'">',t,"</style>"].join(""),c.id=m,(l?c:d).innerHTML+=a,d.appendChild(c),l||(d.style.background="",d.style.overflow="hidden",u=v.style.overflow,v.style.overflow="hidden",v.appendChild(d)),o=n(c,t),l?c.parentNode.removeChild(c):(d.parentNode.removeChild(d),v.style.overflow=u),!!o},L=function(e){var n=t.matchMedia||t.msMatchMedia;if(n)return n(e)&&n(e).matches||!1;var i;return j("@media "+e+" { #"+m+" { position: absolute; } }",function(e){i="absolute"==(t.getComputedStyle?getComputedStyle(e,null):e.currentStyle).position}),i},P=function(){function t(t,a){a=a||e.createElement(i[t]||"div"),t="on"+t;var o=t in a;return o||(a.setAttribute||(a=e.createElement("div")),a.setAttribute&&a.removeAttribute&&(a.setAttribute(t,""),o=r(a[t],"function"),r(a[t],"undefined")||(a[t]=n),a.removeAttribute(t))),a=null,o}var i={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return t}(),D={}.hasOwnProperty;d=r(D,"undefined")||r(D.call,"undefined")?function(t,e){return e in t&&r(t.constructor.prototype[e],"undefined")}:function(t,e){return D.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=A.call(arguments,1),i=function(){if(this instanceof i){var r=function(){};r.prototype=e.prototype;var a=new r,o=e.apply(a,n.concat(A.call(arguments)));return Object(o)===o?o:a}return e.apply(t,n.concat(A.call(arguments)))};return i}),S.canvas=function(){var t=e.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},S.touch=function(){var n;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?n=!0:j(["@media (",x.join("touch-enabled),("),m,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){n=9===t.offsetTop}),n},S.rgba=function(){return i("background-color:rgba(150,255,150,.5)"),a(y.backgroundColor,"rgba")},S.cssanimations=function(){return u("animationName")},S.csstransforms=function(){return!!u("transform")},S.csstransforms3d=function(){var t=!!u("perspective");return t&&"webkitPerspective"in v.style&&j("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(e,n){t=9===e.offsetLeft&&3===e.offsetHeight}),t},S.csstransitions=function(){return u("transition")};for(var V in S)d(S,V)&&(l=V.toLowerCase(),f[l]=S[V](),T.push((f[l]?"":"no-")+l));return f.input||c(),f.addTest=function(t,e){if("object"==typeof t)for(var i in t)d(t,i)&&f.addTest(i,t[i]);else{if(t=t.toLowerCase(),f[t]!==n)return f;e="function"==typeof e?e():e,"undefined"!=typeof h&&h&&(v.className+=" ixp-mzr-"+(e?"":"no-")+t),f[t]=e}return f},i(""),g=b=null,f._version=p,f._prefixes=x,f._domPrefixes=E,f._cssomPrefixes=C,f.mq=L,f.hasEvent=P,f.testProp=function(t){return o([t])},f.testAllProps=u,f.testStyles=j,v.className=v.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(h?" ixp-mzr-js ixp-mzr-"+T.join(" ixp-mzr-"):""),f}(this,this.document);!function(e){e.addTest("csscalc",function(){var t="width:",n="calc(10px);",i=document.createElement("div");return i.style.cssText=t+e._prefixes.join(n+t),!!i.style.length}),e.addTest("pointerevents",function(){var e,n=document.createElement("x"),i=document.documentElement,r=t.getComputedStyle;return"pointerEvents"in n.style&&(n.style.pointerEvents="auto",n.style.pointerEvents="x",i.appendChild(n),e=r&&"auto"===r(n,"").pointerEvents,i.removeChild(n),!!e)}),e.addTest("mediaqueries",e.mq("only all")),e.addTest("mobiledevice",function(){var e=function(t){return/(android|bb\d+|meego).+mobile|android|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}(navigator.userAgent||navigator.vendor||t.opera);return e}),e.addTest("ios",function(){return!t.MSStream&&/iPad|iPhone|iPod/.test(navigator.userAgent)})}(i),e.components=e.components||{};var r=e.components.dependencies._;(function(a){"use strict";a.constants=a.constants||{},a.constants.merge=function(t){return t=r.defaults(t,a.constants),t.extensibility=r.defaults(t.extensibility||{},a.constants.extensibility||{}),t},a.instances=a.instances||{},a.registry=a.registry||{},a.instancesByType=a.instancesByType||{},a.addInstanceId=function(t,e){var n=a.instancesByType[t];n||(n=a.instancesByType[t]={}),n[e]=!0},a.getInstance=function(t){return a.instances[t]},a.registerExtensibility=function(t,e){a.constants.extensibility||(a.constants.extensibility={}),a.constants.extensibility[t]=r.extend(a.constants.extensibility[t]||{},e)},a.dependencies=a.dependencies||{},a.dependencies.jQuery=a.dependencies.jQuery||{},a.dependencies.Modernizr=i,a.sendCommand=function(t,i,a,o){o&&"string"!=typeof o||(o=n),a=a&&r.extend({},a)||{};var s=[];return r.isFunction(a.done)||(a.done=function(t){s.push(t)}),":"!==t[0]&&(t=":"+t),e.events.trigger(o,"command:"+i+t,a),0===s.length?n:s},t.LBUI=a,t.LBUI.plugins=a.registry;var o=!!e.studio,s=e.studio&&e.studio.labs,u=e.flags.debug;a.ComponentBase=function(){var t=a.constants;a.constants=r.extend(t,{components:{studio:{data:{hidden:"data-liveball-is-element-hidden"},events:{reflow:"component:reflow"}},data:{componentRoot:"data-ixp-component-root",behaviorPrefix:"data-ixp-behavior-",behaviorScopePrefix:"data-ixp-behavior-scope-",behaviorScopeOwner:"data-ixp-behavior-scope-owner"}}}),e.components.registerExtensibility("all",{commands:{},events:{initializing:":initializing",initialized:":initialized"}});var i=function(t){t||(t={});var e={PendingContainerChildId:LIVEBALL.App.constants.PendingContainerChildId,scaffold:function(t,n){var i=LIVEBALL.App.componentsManager.getScaffoldElement(t),o=a.registry[t];if(r.isFunction(o)){var s=o.prototype;if(r.isFunction(s.getScaffolding)){var u=s.getScaffolding(t,{builder:e});if(u){i.content.scaffolding=u.scaffolding,u.elementName&&(i.content.elementName=u.elementName);var c=u.style&&u.style.customClass;c&&(i.style.customClass=c);var l=u.content&&u.content.htmlAttributes;l&&(i.content.htmlAttributes=l)}}}return i&&n&&(i.elementName=n),i},scaffoldContainer:function(t){return e.scaffold("container",t)},scaffoldLink:function(t,n){var i=e.scaffold("link",n);return i.content.text=t,i.content.isHtml=!0,i},scaffoldText:function(t,n){var i=e.scaffold("text",n);return i.content.text=t,i.content.isHtml=!0,i},getDefaultTheme:function(t,n){var i={};return i[t]=n||"",e.getDefaultThemes(i)},getDefaultThemes:function(t){var e=[];t=r.extend({},t);var i=r.keys(t).length,a=LIVEBALL.themes.byClass;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];if(s["default"]&&s.group){var u=s.group.toLowerCase(),c=t[u];if(c!==n&&(delete t[u],e.push(s.classes),i===e.length))break}}var l;for(var d in t)t.hasOwnProperty(d)&&(l=t[d],l&&e.push(l));return e.join(" ")},getBehaviorToken:function(e){return t[e]},addBehaviors:function(e,n){var i=LIVEBALL.behaviors.byAttribute;for(var r in i)if(i.hasOwnProperty(r)){var a=i[r];a.owner&&a.owner.key===e&&(t[r]=n)}}};return e},c=function(e,i,a,u,c){c||(c={}),this.componentType=e,this.instanceId=i,this.$=u,this._=r,this.eventNamespace="."+this.instanceId,this.$el=a instanceof this.$?a:this.$(a),this.inStudio=o,this.inStudioLabs=s;var l=this;o&&(this.paramMap={});var d,p=c.parameters||{};delete c.parameters;for(var f in p)if(p.hasOwnProperty(f)&&(d=p[f],this[f]=d,o))switch(typeof d){case"boolean":this.paramMap[f]=r.bind(function(t){l[this.param]=t===!0||"true"===t},{param:f});break;default:this.paramMap[f]=r.bind(function(t){l[this.param]=t},{param:f})}if(this.__initialize(c),this.listenToCommands(),o){this.studioInitialize(c);var h=this.getParamMapOverrides();h&&(this.paramMap=r.extend(this.paramMap,h))}var v;this.$(document).ready(function(){if(!v)try{l.__onDocumentReady(),v=!0,l.initlizedPromise?l.initlizedPromise.then(function(){l.triggerExtensibility(t.extensibility.all.events.initialized,n,{any:!0})}):l.triggerExtensibility(t.extensibility.all.events.initialized,n,{any:!0})}catch(e){console.error("Error readying component: "+l.componentType+":"+l.instanceId,e)}})};c.prototype.__initialize=function(t){this.initializing=!0;try{this.initialize(t)}catch(e){console.error("Error initializing component: "+this.componentType+":"+this.instanceId,e)}finally{this.initializing=!1}},c.prototype.initialize=function(t){};var l=function(t,e){t.onclick.call(t.el,e)},d=function(t,e){for(var n,i=0,r=e.length;i<r;i++){var a=e[i];if(t.currentTarget==a.el){n=a;break}}return n};c.prototype.onBehavior=function(t,e,n,i,a){i||(i="click"+this.eventNamespace),n=r.bind(n,this),a=r.defaults(a||{},{delegate:!0}),e=this.getBehaviorSelector(e);var o=[];return this.$(e).each(function(){this.onclick&&(o.push({el:this,onclick:this.onclick,handler:null}),this.onclick=function(){return!0})}),0===o.length?void(a.delegate?t.on(i,e,function(t){n(t)}):t.find(e).on(i,function(t){n(t)})):void t.on(i,e,function(t){if(n(t),!t.isDefaultPrevented()){var e=d(t,o);e&&(e.handler||(e.handler=r.debounce(l,1)),e.handler(e,t))}})},c.prototype.listenToCommands=function(){var t=this.getCommandMap();if(t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=t[n];e.events.on(this,"command:"+this.componentType+n,i.fn),e.events.on(this,"command:"+this.instanceId+n,i.fn),r.isFunction(this.onListenToCommand)&&this.onListenToCommand(n,i)}},c.prototype.getCommandMap=function(){return this.__getCommandMap()},c.prototype.__getCommandMap=function(){return r.isFunction(this.onGetCommandMap)&&this.onGetCommandMap()},c.prototype.studioInitialize=function(t){},c.prototype.getParamMapOverrides=function(){return n},c.prototype.__onDocumentReady=function(t){return this.onDocumentReady(t)},c.prototype.onDocumentReady=function(t){return!0},c.prototype.destroy=function(){this.$el&&this.$el.length&&this.$el.off(this.eventNamespace),e.events.off(this);try{this.onDestroy()}catch(t){console.error(t)}},c.prototype.onDestroy=function(){},c.prototype.saveData=function(t){this.inStudio||(t.instanceId=this.instanceId,t.success=t.success&&r.bind(t.success,this),t.error=t.error&&r.bind(t.error,this),t.always=t.always&&r.bind(t.always,this),e.data.save(t))},c.prototype.submitData=function(t){t.submit=!0,this.saveData(t)},c.prototype.getBehaviorSelector=function(e){var n="["+t.components.data.behaviorPrefix+e+"]",i="["+t.components.data.behaviorScopePrefix+e+'="'+this.instanceId+'"]';return n+i},c.prototype.isDirectDescendant=function(t,e){var n=t instanceof this.$?t:this.$(t),i=n.closest(e);return i.length&&(i.attr("data-ixp-component-root")===this.instanceId||i.attr("data-liveball-rmw-root")===this.instanceId)},c.prototype.filterChildren=function(t,e){var n=this;return this.$el.find(t).filter(function(){return n.isDirectDescendant(this,e)})},c.prototype.recalculateVisibility=function(t){t||(t={}),this._visibilityRecalcTimer&&(clearInterval(this._visibilityRecalcTimer),delete this._visibilityRecalcTimer),t.delay?this._visibilityRecalcTimer=setTimeout(function(){e.events.trigger(e.constants.visibility.events.recalculate,{})},t.delay):e.events.trigger(e.constants.visibility.events.recalculate,{})},c.prototype.sendCommand=function(t,i,r,a){a&&"string"!=typeof a||(a=n),e.events.trigger(a,"command:"+i+t,r)},c.prototype.sendCommandAsync=function(t,e,n,i){r.defer(function(i){i.sendCommand(t,e,n,i)},this)},c.prototype._getDataEnvelope=function(t){return{type:this.componentType,instanceId:this.instanceId,element:this.$el[0],data:t||{}}},c.prototype.getExtensibilityEnvelope=function(t){return this._getDataEnvelope(t)},c.prototype.triggerExtensibility=function(t,n,i){if(i||(i={}),!this.inStudio||r.isFunction(i.done)){var a=this._getDataEnvelope(n),o=!1;if(r.isFunction(i.done))try{o=!0,i.done.call(this,a)}catch(s){console.error(s)}if(t&&!this.inStudio){try{o=e.events.trigger("all",t,a)}catch(s){console.error(s)}if(i.any)try{o=e.events.trigger("any"+t,a)||o}catch(s){console.error(s)}try{o=e.events.trigger(this.componentType+t,a)||o}catch(s){console.error(s)}try{o=e.events.trigger(this.instanceId+t,a)||o}catch(s){console.error(s)}if(r.isFunction(this.onTriggerCustomExtensibility))try{o=this.onTriggerCustomExtensibility(t,a)||o}catch(s){console.error(s)}}o&&n&&a.data&&r.extend(n,a.data)}};var p=function(t,e){if(!t||!e)return null;for(var n=[],i=0,r=e.length;i<r;i++){var a=e[i];n.push(a.property+":"+a.value+";")}return n.length?t+"{"+n.join(" ")+"}":null};return c.prototype.addOrUpdateStyleBlock=function(t){var e="";if(t)for(var n=0,i=t.length;n<i;n++){var r=p(t[n].selector,t[n].declarations);r&&(e+=r)}if(!e&&this.$styleBlock)return this.$styleBlock.remove(),void(this.$styleBlock=null);var a=this.$('<style type="text/css">'+e+"</style>");this.$styleBlock?this.$styleBlock=a.replaceAll(this.$styleBlock):this.$styleBlock=a.appendTo("head")},c.prototype.log=function(){if(u){var t=[this.componentType+":"+this.instanceId].concat(Array.prototype.slice.call(arguments));e.log.apply(e,t)}},o&&(c.prototype.ensureStudioIsLoaded=function(t){r.isFunction(t)&&(this.studioApp?t.call(this):e.events.once(this,this.instanceId+":studio:initialized",t))},c.prototype.saveParameter=function(t,e,n){n||(n=function(){});var i=function(){this.studioApp.componentsManager.trigger("component:parameter:save",{instanceId:this.instanceId,name:t,value:e,onCompleted:n})};this.ensureStudioIsLoaded(i)},c.prototype.deleteParameter=function(t,e){e||(e=function(){});var n=function(){this.studioApp.componentsManager.trigger("component:parameter:delete",{instanceId:this.instanceId,name:t,onCompleted:e})};this.ensureStudioIsLoaded(n)},c.prototype.set=function(t,e){var n=this.paramMap[t];return!!n&&(n.call(this,e),!0)},c.prototype.onStudioRegistationComplete=function(t){this.studioApp=t,r.defer(function(t){e.events.trigger(t.instanceId+":studio:initialized")},this),this.studioApp.componentsManager.on("app:state:changed",function(t){this.studioApp=t,this.onStudioStateChanged()},this),this.onListenToStudioEvents(this.studioApp.componentsManager)},c.prototype.onListenToStudioEvents=function(t){},c.prototype.onStudioStateChanged=function(){},c.prototype.getScaffolding=function(t,e){e||(e={}),1===arguments.length&&r.isObject(arguments[0])&&(e=t,t="");var n=null;if(r.isFunction(this.onGetScaffolding)){var a=e.builder||i(e.behaviors);n=this.onGetScaffolding(t,a,e)}return n},c.prototype.getWrapping=function(t,e){e||(e={});var n=null;return r.isFunction(this.onGetWrapping)&&(n=this.onGetWrapping(t,i(e.behaviors),e)),n},c.prototype.getCssClassesToPreserve=function(){return this.onGetCssClassesToPreserve()},c.prototype.onGetCssClassesToPreserve=function(){return null}),c}.call(this),a.InputComponentBase=function(){var i=a.constants;a.constants=r.extend(i,{inputs:{formShadowSelector:".ixp-component-form-shadow",formSelector:".ixp-component-form["+i.components.data.componentRoot+"]",formFieldSelector:".ixp-component-form-field["+i.components.data.componentRoot+"]",css:{validationPrefix:"ixp-input-validation-",input:"ixp-input",required:"ixp-input-required",validated:"ixp-input-validated"},data:{inputDataField:"data-ixp-input-data-field",inputShadowField:"data-ixp-shadow-data-field",inputType:"data-ixp-input-type",state:"data-ixp-input-state",submitUrl:"data-ixp-input-submit-url"},events:{handled:"ixp-handled:",inputChanged:":input:changed",inputSaved:":input:saved",inputStateChanged:":input:state:changed",formSubmitting:":form:submitting"},states:{valid:"valid",invalid:"invalid",incomplete:"incomplete",pending:"pending",unknown:"unknown"}}}),e.components.registerExtensibility("inputs",{commands:{focus:":focus",value:":value",status:":status"},events:{saving:":saving",saved:":saved",status:":status"}});var s;o&&(s=[a.constants.inputs.css.required,a.constants.inputs.css.validated,a.constants.inputs.css.validationPrefix+a.constants.inputs.states.valid,a.constants.inputs.css.validationPrefix+a.constants.inputs.states.invalid,a.constants.inputs.css.validationPrefix+a.constants.inputs.states.incomplete,a.constants.inputs.css.validationPrefix+a.constants.inputs.states.pending,a.constants.inputs.css.validationPrefix+a.constants.inputs.states.unknown]);var u=function(){if(a.ComponentBase.prototype.constructor.apply(this,arguments),this.paramMap){if(r.isFunction(this.paramMap.required)){var t=this.paramMap.required;this.paramMap.required=function(e){t.call(this,e),this.$el.toggleClass(i.inputs.css.required,this.required),this.validate(this.state.value)}}if(r.isFunction(this.paramMap.dataField)){var n=this.paramMap.dataField;this.paramMap.dataField=function(t){n.call(this,t),this.setInStudioDataFieldValidation()}}if(r.isFunction(this.paramMap.dataSet)){var o=this.paramMap.dataSet;this.paramMap.dataSet=function(t){o.call(this,t),this.setInStudioDataFieldValidation()}}}this.inStudio||(e.events.on(this,this.instanceId+i.inputs.events.inputSaved,this.onInputSaved),this.onListenToInputEvents())};u.prototype=r.create(a.ComponentBase.prototype,{constructor:u}),u.prototype.__initialize=function(t){this.initializing=!0;try{this.$form=this.$el.closest(i.inputs.formSelector),this.formInstanceId=this.$form.attr(i.components.data.componentRoot),this.dataContext=t.dataContext,this.dataContext&&this._updateRuntimeDataModel(this.dataContext),this.dependentDataContext=t.dependentDataContext,this.dependentDataContext&&this._updateRuntimeDataModel(this.dependentDataContext),this.state={instanceId:this.instanceId,dataField:this.dataField,validation:this.dataContext.validation.hasServerPattern?i.inputs.states.unknown:i.inputs.states.valid,required:!!this.required},this.$el.toggleClass(i.inputs.css.required,this.required),a.ComponentBase.prototype.__initialize.apply(this,arguments),this.initializing=!0,this.inStudio?this.setInStudioDataFieldValidation():(this._registerDataField(),this.dependentDataContext&&e.events.on(this,"runtime:data:"+this.dependentDataContext.name+":saved",this._onDependentDataSaved))}finally{this.initializing=!1}},u.prototype._getDataEnvelope=function(t){var e=a.ComponentBase.prototype._getDataEnvelope.apply(this,arguments),n={formInstanceId:this.formInstanceId};return this.dataContext&&(n.dataId=this.dataContext.id,n.dataName=this.dataContext.name,null!==this.defaultValue?(n.defaultValue=this.defaultValue,n.hasDefaultValue=!0):(n.defaultValue=this.dataContext.defaultValue,n.hasDefaultValue=this.dataContext.hasDefaultValue)),e.inputContext=n,e},u.prototype.onTriggerCustomExtensibility=function(t,n){var i=this.dataContext&&this.dataContext.name;i&&e.events.trigger(this.componentType+"|"+i.toLowerCase()+t,n)},u.prototype.onListenToCommand=function(t,n){var i=this.dataContext&&this.dataContext.name;i&&e.events.on(this,"command:"+this.componentType+"|"+i.toLowerCase()+t,n.fn)},u.prototype.onDataSaved=function(t){},u.prototype._onDataSaved=function(t){if(!this.inStudio&&t.data){var e=this.getValue();this.dataContext&&(this.dataContext.value=t.data.value),this.$shadowInput.val(t.data.value),t.instanceId===this.instanceId||e&&e===t.data.value||this.setValue(t.data.value,{save:!1,trigger:!1}),this.onDataSaved({key:t.data.key,value:t.data.value})}},u.prototype.onDependentDataSaved=function(t){},u.prototype._onDependentDataSaved=function(t){!this.inStudio&&t.data&&(this.dependentDataContext&&(this.dependentDataContext.value=t.data.value),this.onDependentDataSaved({key:t.data.key,value:t.data.value}))},u.prototype._updateRuntimeDataModel=function(t){t.hasValue&&e.events.trigger(this,"runtime:data:registered",{key:t.name,value:{value:t.value}})},u.prototype.onRegisterDataField=function(){var t={},e=this.inputAttrName||this.dataContext.name;return e&&(t.name=e),this.inputAttrId&&(t.id=this.inputAttrId),t},u.prototype._registerDataField=function(){if(!this.inStudio&&this.dataContext.name){this.$el.attr(i.inputs.data.inputDataField,this.dataContext.name);var t=this.$form.find(i.inputs.formShadowSelector).first(),n=i.inputs.data.inputShadowField+'="'+this.dataContext.name+'"',r="["+n+"]",a=t.find(r);a.length||(a=this.$('<input type="hidden" '+n+" />").appendTo(t),this._updateRuntimeDataModel(this.dataContext),a.val(this.getValue()));var o=this.onRegisterDataField();o&&a.attr(o),this.$shadowInput=a,e.events.on(this,"runtime:data:"+this.dataContext.name+":saved",this._onDataSaved)}},u.prototype.getCommandMap=function(){var t={};return t[i.extensibility.inputs.commands.focus]={fn:this._onCommandFocus},t[i.extensibility.inputs.commands.value]={fn:this._onCommandValue},t[i.extensibility.inputs.commands.status]={fn:this._onCommandStatus},r.extend(t,this.__getCommandMap()||{})},u.prototype._onCommandFocus=function(){this.setFocus()},u.prototype._onCommandValue=function(t){var e=!1;if(t.hasOwnProperty("value")&&(e=!0,this.setValue(t.value,{trigger:!0})),r.isFunction(t.done)){var n={value:this.getValue()};e&&(n.success=n.value==t.value);var i=this._getDataEnvelope(n);try{t.done.call(this,i)}catch(a){console.error(a)}}},u.prototype._onCommandStatus=function(t){var e={value:this.state.value,hasValue:this.state.hasValue,required:this.state.required,validation:this.state.validation};this.triggerExtensibility(i.extensibility.inputs.events.status,e,{done:t.done})};var c=function(){try{return t.self!==t.top}catch(e){return!0}},l=function(){var t=this.$el.closest(".ixp-full-page-slider");return t.length};u.prototype.__onDocumentReady=function(){return!this.inStudio&&this.autofocus&&r.delay(function(t){t.setFocus()},c()||l.call(this)?500:1,this),this.onDocumentReady()},u.prototype.onListenToInputEvents=function(){},u.prototype.setFocus=function(){},u.prototype.getValue=function(){throw new Error("getValue not implemented")},u.prototype.onSetValue=function(t){throw new Error("setValue not implemented")},u.prototype.setValue=function(t,e){if(e=r.defaults(e||{},{save:!0}),this.validateValue(t)){var n=this.onSetValue(t,e);return this.initializing?void(this.initlizedPromise=n):n?void n.then(r.bind(function(){this.onInputChanged({},{save:!!e.save,trigger:!!e.trigger,submitting:e.submitting})},this)):void this.onInputChanged({},{save:!!e.save,trigger:!!e.trigger,submitting:e.submitting})}},u.prototype.isValueEmpty=function(t){return null==t||""===t},u.prototype.isSaveRequired=function(t){return t!=this.dataContext.value||(this.state.validation===i.inputs.states.unknown||this.state.validation===i.inputs.states.invalid)},u.prototype.validate=function(t,e){t===n&&(t=this.getValue()),e=e||this.state.validation;var r=!0;return this.inStudio||(r=this.onValidate(t,e),r||(e=i.inputs.states.invalid)),this.setInputState(t,e),r},u.prototype.onValidate=function(t,e){return this.validateValue(t)},u.prototype.validateValue=function(t){var e=this.onValidateValue(t);return!(e&&this.dataContext.validation.maxLength&&null!=t&&t.toString().length>this.dataContext.validation.maxLength)&&e},u.prototype.onValidateValue=function(t){return!0},u.prototype.isIncomplete=function(t){return this.state.required&&this.isValueEmpty(t)};var d=function(t,e){if(e===i.inputs.states.pending)t.addClass(i.inputs.css.validationPrefix+e);else for(var n in i.inputs.states)i.inputs.states.hasOwnProperty(n)&&t.toggleClass(i.inputs.css.validationPrefix+n,e===n)};return u.prototype.setInputState=function(t,r){this.inStudio?(this.state.dataField=this.dataField,this.state.validation=this.dataContext.validation.hasServerPatter?i.inputs.states.unknown:i.inputs.states.valid,this.state.required=!!this.required):this.isIncomplete(t)&&(r=i.inputs.states.incomplete),this.state.value=t,this.state.validation=r,this.state.hasValue=!this.isValueEmpty(t);var a=this.isSaveRequired(t);this.state.requiresSave=!!a,this.state.saveMethod=a&&a.method||n,this.$el.attr(i.inputs.data.state,JSON.stringify(this.state)),d(this.$el,this.state.validation);var o=!this.inStudio&&this.initializing;o||r===i.inputs.states.pending||(this.inStudio?this.$el.toggleClass(i.inputs.css.validated,r===i.inputs.states.invalid):this.$el.addClass(i.inputs.css.validated),e.events.trigger(this.instanceId+i.inputs.events.inputStateChanged,{instanceId:this.instanceId}))},u.prototype.setInStudioDataFieldValidation=function(){if(this.inStudio){var t="undefined"!=typeof this.dataSet,e=!(!this.dataField||t&&!this.dataSet);this.validate(this.state.value,e?i.inputs.states.valid:i.inputs.states.invalid)}},u.prototype.onInputSaved=function(t){t.validation===i.inputs.states.valid&&(this.dataContext.hasValue=null!=t.value,this.dataContext.value=t.value),this.setInputState(t.value,t.validation);var e={value:this.state.value,hasValue:this.state.hasValue,required:this.state.required,validation:this.state.validation,cancelable:!1};this.triggerExtensibility(i.extensibility.inputs.events.saving,r.extend({},e)),this.triggerExtensibility(i.extensibility.inputs.events.saved,r.extend(e,{success:!0}))},u.prototype.onInputChanged=function(t,e){if(e=r.defaults(e||{},{save:!0,trigger:!0}),!e.submitting&&e.save){var n=a.getInstance(this.formInstanceId);n&&n.instance&&"onsubmit"===n.instance.saveMode&&(e.save=!1)}var o=this.getValue(),s=r.isFunction(this.getMetadata)&&this.getMetadata();if(!e.save||!this.isSaveRequired(o))return this.state.validation!==i.inputs.states.valid&&this.state.validation!==i.inputs.states.unknown?this.validate(o,this.dataContext.validation.hasServerPattern?i.inputs.states.unknown:i.inputs.states.valid):this.setInputState(o,this.state.validation),void(e.trigger&&this.triggerInputChanged());if(o!==this.state.value||this.state.validation!==i.inputs.states.pending){var u=i.inputs.states.pending;if(e.submitting&&(u=this.dataContext.validation.hasServerPattern?i.inputs.states.unknown:i.inputs.states.valid),!this.validate(o,u))return void(e.trigger&&this.triggerInputChanged());if(!e.submitting){var c={value:o,hasValue:!this.isValueEmpty(o),required:this.state.required,validation:this.state.validation,cancelable:!0,cancel:!1};if(this.triggerExtensibility(i.extensibility.inputs.events.saving,c),c.cancel)return this.state.validation!==i.inputs.states.valid&&this.state.validation!==i.inputs.states.unknown?this.validate(o,this.dataContext.validation.hasServerPattern?i.inputs.states.unknown:i.inputs.states.valid):this.setInputState(o,this.state.validation),void(e.trigger&&this.triggerInputChanged());var l=!1;this.saveData({data:{value:o,metadata:s?JSON.stringify(s):null,dataField:this.dataField,method:this.state.saveMethod},type:this.state.saveMethod,success:function(t){l=!0,this.dataContext.hasValue=null!=t.value,this.dataContext.value=t.value,this.setInputState(o,i.inputs.states.valid)},error:function(t){this.setInputState(o,409===t.status?i.inputs.states.invalid:i.inputs.states.unknown)},always:function(){this.triggerInputChanged(),c={value:this.state.value,hasValue:this.state.hasValue,required:this.state.required,validation:this.state.validation,success:l},this.triggerExtensibility(i.extensibility.inputs.events.saved,c)}})}}},u.prototype.triggerInputChanged=function(){var t={value:this.state.value,hasValue:this.state.hasValue,required:this.state.required,state:this.state.validation};e.events.trigger(this.formInstanceId+i.inputs.events.inputChanged,t),e.events.trigger(this.instanceId+i.inputs.events.inputChanged,t)},o&&(u.prototype.deactivateEvents=function(t){t.attr("tabindex",-1),a.dependencies.Modernizr.pointerevents||(t.on("focus"+this.eventNamespace+" click"+this.eventNamespace+" mousedown"+this.eventNamespace+" mouseup"+this.eventNamespace+" mouseover"+this.eventNamespace+" mouseout"+this.eventNamespace+" mousemove"+this.eventNamespace,r.bind(this.onDeactivateEvent,this)),t.css("cursor","crosshair"))},u.prototype.onDeactivateEvent=function(t){try{t.preventDefault(),"focus"===t.type&&(t.stopPropagation(),t.stopImmediatePropagation(),this.$(t.target).blur())}catch(e){}},u.prototype.getCssClassesToPreserve=function(){var t=a.ComponentBase.prototype.getCssClassesToPreserve.apply(this,arguments);return t?s.concat(t):s}),u}.call(this),a.create=function(t,e,n,i){var o=this.registry[t];if(!o)throw new Error("Component "+t+" could not be found.");var s=r.extend({},i||{}),u=s.el||"#ball_"+e;delete s.el;var c=new o(t,e,u,n,s);return a.instances[e]={instance:c,instanceId:e,type:t},a.addInstanceId(t,e),c},a.register=function(t,e,n){2===arguments.length&&(n=e,e=a.ComponentBase);var i=function(){e.apply(this,arguments)};return i.prototype=r.create(e.prototype,r.extend(n,{constructor:i})),a.registry[t]=i,i}}).call(this,e.components)}(window,window.ixp.runtime);var _lbapi_nativeXhr=new _lbapi_XhrFactory,_lbapi_lb3id=_lbapi_lb3id||"",_lbapi_asynchronous=!0,_lbapi_3id_param="lb3id",_lbapi_rnd_param="rnd",_lbapi_tag_param="tag";
//# sourceMappingURL=ixp-runtime.bundle.min.js.map
